(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"88b7":function(e,t){e.exports="data:image/png;base64,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"},ceb6:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page",style:{display:e.pageLoadOk?"inline":"none"},attrs:{id:"PageContainer1"}},[null!=e.customerInfo?a("div",{staticClass:"customerHeaderInfo"},[a("div",{staticClass:"avatarIconContainer"},[a("img",{staticClass:"avatarICon",attrs:{src:e.customerInfo.user.avatar}})]),a("label",{staticClass:"weui-media-box__title header_Nick"},[e._v(e._s(e.customerInfo.user.nick))]),a("label",{staticClass:"weui-media-box__title header_phoneNumber"},[e._v(e._s(e.customerInfo.phone))])]):e._e(),a("div",{staticClass:"page__bd"},[a("div",{staticClass:"weui-panel weui-panel_access"},[a("div",{staticClass:"weui-panel__hd weui-flex menuContainer",style:e.menuItenPositionStyle},e._l(e.menuTitleArr,(function(t,s){return a("span",{staticClass:"weui-flex__item menuItem",class:s==e.currentSelectMenuIndex?e.selectedMenuClass:"",on:{click:function(t){return e.chooseMenuFilterAction(s)}}},[a("label",{class:s==e.currentSelectMenuIndex?"menuItemLabelBototmLine":""},[e._v(e._s(t))])])})),0),0==e.currentSelectMenuIndex?a("div",{staticClass:"weui-panel__bd",class:e.pannel_bd_padding_set},e._l(e.customerBaseInfoArr,(function(t,s){return a("a",{key:s,staticClass:"weui-media-box-zeroPadding weui-media-box_appmsg",attrs:{href:"javascript:void(0);"}},["客户标签"!=t.text?a("div",{staticClass:"weui-media-box__bd baseInfoCell"},[a("label",{staticClass:"weui-media-box__title logTitle"},[e._v(e._s(t.text)+": "+e._s(t.value))])]):a("div",{staticClass:"weui-media-box__bd baseInfoTagCell"},[a("label",{staticClass:"weui-media-box__title"},[e._v("客户标签:")]),a("div",{staticClass:"tagContainer"},e._l(t.value,(function(t){return a("label",{staticClass:"weui-media-box__title tagLabel"},[e._v(e._s(t))])})),0)])])})),0):a("div",{staticClass:"weui-panel__bd",class:e.pannel_bd_padding_set},e._l(e.dataSource,(function(t,i){return a("a",{key:i,staticClass:"weui-media-box weui-media-box_appmsg",attrs:{href:"javascript:void(0);"}},[2==e.currentSelectMenuIndex?a("div",{staticClass:"weui-media-box__bd couponCell"},[a("div",{staticClass:"couponDesc weui-flex__item"},[a("div",{staticClass:"weui-flex leftCouponDesc weui-flex__item"},[a("label",{staticClass:"weui-media-box__title"},[e._v(e._s(t.coupon.name))]),a("label",{staticClass:"couponMoney",style:3==t.draw.status?e.expireColor:""},[e._v("￥"+e._s(t.draw.amount)+" ")])]),a("div",[a("span",{staticClass:"couponStatu",style:3==t.draw.status?e.expireBackColor:""},[e._v(e._s(t.draw.statusText))])])]),a("div",{staticClass:"couponFooter"},[a("label",{staticClass:"expireTime"},[e._v("有效期至:"+e._s(t.coupon.expireTimeText))])])]):1==e.currentSelectMenuIndex?a("div",{staticClass:"weui-media-box__bd weui-flex logCell"},[a("label",{staticClass:"weui-media-box__title logTitle"},[e._v(e._s(t.info))]),a("label",{staticClass:"expireTime"},[e._v(e._s(t.time))])]):3==e.currentSelectMenuIndex?a("div",{staticClass:"weui-media-box__bd  productCell",on:{click:function(s){return e.goProductDetailAction(t)}}},[a("div",{staticClass:"shopInfo weui-flex"},[a("span",{staticClass:"weui-flex__item weui-flex shopNameContainer"},[a("img",{staticClass:"shopICon",attrs:{src:s("88b7")}}),a("label",{staticClass:"shopNameLabel"},[e._v(e._s(t.shop.name))])]),a("label",{staticClass:"orderStatus"},[e._v(e._s(t.productPurchase.statusText))])]),e._l(t.productPurchase.items,(function(t){return a("div",{staticClass:"productContainer"},[a("div",{staticClass:"productIConContainer"},[a("img",{staticClass:"productICon",attrs:{src:t.product.cover}})]),a("div",{staticClass:"productDescContainer"},[a("label",{staticClass:"productTitle"},[e._v(e._s(t.product.name))]),a("label",{staticClass:"productSkuDesc weui-flex__item"},[e._v(e._s(t.skuDesc))]),a("label",{staticClass:"totalMoneyDesc"},[e._v("¥"),a("label",{staticClass:"productItemTotalMoney"},[e._v(e._s(t.totalFee))])])])])})),a("div",{staticClass:"productFooter weui-flex"},[a("label",{staticClass:"expireTime weui-flex__item"},[e._v(e._s(t.order.createTime))]),a("label",{staticClass:"totalMoneyDesc"},[e._v("共"+e._s(t.productPurchase.items.length)+"件，合计 ¥ "),a("label",{staticClass:"totalMoney"},[e._v(e._s(t.order.actualFee))])])])],2):e._e()])})),0)])]),e.hasMoreDataFlag?a("div",{staticClass:"weui-loadmore"},[a("i",{staticClass:"weui-loading"}),a("span",{staticClass:"weui-loadmore__tips"},[e._v("正在加载")])]):e.currentSelectMenuIndex>0?a("div",{staticClass:"weui-loadmore"},[a("span",{staticClass:"weui-loadmore__tips",staticStyle:{background:"rgb(240,241,245)",color:"#999999"}},[e._v("没有更多了~")])]):e._e()])},i=[],o=(s("99af"),s("b0c0"),{name:"about",components:{},data:function(){return{ticketItem:null,pageNumber:1,pageSize:10,ymPageListStart:0,hasMoreDataFlag:!1,dataSource:[],requestLoadingFinished:!0,customerId:0,currentSelectMenuIndex:0,pannel_bd_padding_set:"pannel_bd_padding",pageLoadOk:!1,customerBaseInfoArr:null,customerInfo:null,selectedMenuClass:"selectMenuItemLight",menuTitleArr:["客户信息","行为记录","优惠券","客户订单"],menuItenPositionStyle:"",expireColor:"color:#999999",expireBackColor:"background-color:#999999"}},beforeCreate:function(){document.title="客户详情"},created:function(){var e=this.$netManager.getUrlKey("user_id");e&&e.length>0||(e=this.$netManager.getUrlKey("userId"));var t=this.$netManager.getUrlKey("token");e&&t&&e.length>0&&t.length>0&&(localStorage.setItem("token",t),localStorage.setItem("userId",e)),this.customerId=this.$netManager.getUrlKey("customerId"),this.currentSelectMenuIndex<=1&&(this.pannel_bd_padding_set="pannel_bd_paddingLog"),this.loadCustomerDataRequest(),this.pageLoadOk=!0},mounted:function(){window.addEventListener("scroll",this.scrollBottom)},methods:{scrollBottom:function(e){var t=document.body.scrollTop;this.menuItenPositionStyle=t>=159?"position:fixed;top:0;z-index:1000;":"",window.screen.height+t>=document.body.scrollHeight&&this.requestLoadingFinished&&this.hasMoreDataFlag&&(this.requestLoadingFinished=!1,this.pageNumber++,this.loadCustomerDataRequest())},goProductDetailAction:function(e){var t=e.order.orderId;this.$router.push({path:"/module/developing",params:{orderId:t}})},chooseMenuFilterAction:function(e){this.currentSelectMenuIndex=e,this.pageNumber=1,this.hasMoreDataFlag=!1,this.dataSource=Array(),this.currentSelectMenuIndex<=1?this.pannel_bd_padding_set="pannel_bd_paddingLog":this.pannel_bd_padding_set="pannel_bd_padding",this.loadCustomerDataRequest()},loadCustomerDataRequest:function(){0==this.currentSelectMenuIndex?this.requestCustomerBaseInfo():1==this.currentSelectMenuIndex?this.execBaseCustomerRequest(this.$ymAPI.customerLogs,"logs"):2==this.currentSelectMenuIndex?this.execBaseCustomerRequest(this.$ymAPI.customerCoupons,"draws"):3==this.currentSelectMenuIndex&&this.execBaseCustomerRequest(this.$ymAPI.customerOrders,"orders")},requestCustomerBaseInfo:function(){var e=this.$weui.loading("加载中"),t=this;console.log(this),this.$http.post(this.$ymAPI.customerDetail,this.$netManager.getRequestParams({customer_id:this.customerId})).then((function(s){e&&e.hide();var a=s.data;if(1==a.status){var i=a.data;t.customerInfo=i;var o=[{text:"会员卡编号",value:i.card.num},{text:"姓名",value:i.card.name},{text:"性别",value:i.card.gender},{text:"电话号码",value:i.card.phone},{text:"客户标签",value:i.tags}];t.customerBaseInfoArr=o}})).catch((function(e){console.log(e)}))},execBaseCustomerRequest:function(e,t){var s=null;1==this.pageNumber&&(s=this.$weui.loading("加载中"),this.ymPageListStart=0);var a=this;this.$http.post(e,this.$netManager.getRequestParams({customer_id:this.customerId,start:this.ymPageListStart,size:10})).then((function(e){s&&s.hide();var i=e.data;if(1==i.status){var o=a.dataSource;1==a.pageNumber&&(o=[]);var n=i.data[t];o=o.concat(n),a.ymPageListStart=i.data.start,a.hasMoreDataFlag=1==i.data.more,a.dataSource=o}else a.$weui.topTips(i.errorMsg);setTimeout((function(){a.requestLoadingFinished=!0}),800)})).catch((function(e){console.log(e)}))},showComonPickerAction:function(){var e=["交通发票","餐饮发票","住宿发票"],t=Array();e.forEach((function(e,s){t.push({label:e,value:s})}));var s=this;this.$weui.picker(t,{defaultValue:[2],className:"custom-classname",onChange:function(e){},onConfirm:function(e){e.length&&(s.ticketItem=e[0])},id:"picker",title:"单列选择器"})}}}),n=o,l=(s("e50a"),s("2877")),r=Object(l["a"])(n,a,i,!1,null,"86c93b26",null);t["default"]=r.exports},e50a:function(e,t,s){"use strict";var a=s("e68a"),i=s.n(a);i.a},e68a:function(e,t,s){}}]);
//# sourceMappingURL=about.f2de6982.js.map